[gd_scene load_steps=10 format=3]

[ext_resource path="res://scripts/Main.gd" type="Script" id=1]
[ext_resource path="res://scenes/Map.tscn" type="PackedScene" id=2]
[ext_resource path="res://shaders/low_health_overlay.gdshader" type="Shader" id=3]
[ext_resource path="res://shaders/damage_ring.gdshader" type="Shader" id=4]
[ext_resource path="res://shaders/damage_arrow.gdshader" type="Shader" id=5]
[ext_resource path="res://scripts/Minimap.gd" type="Script" id=9]

[sub_resource type="ShaderMaterial" id=6]
shader = ExtResource(3)

[sub_resource type="ShaderMaterial" id=7]
shader = ExtResource(4)
shader_parameter/intensity = 0.0
shader_parameter/radius = 0.5
shader_parameter/thickness = 0.06
shader_parameter/color = Color(1, 1, 1, 0.25)

[sub_resource type="ShaderMaterial" id=8]
shader = ExtResource(5)
shader_parameter/intensity = 0.0

[node name="Main" type="Node3D"]
script = ExtResource(1)

[node name="World" type="Node3D" parent="."]

[node name="Map" parent="World" instance=ExtResource(2)]

[node name="Players" type="Node3D" parent="."]

[node name="Bots" type="Node3D" parent="."]

[node name="SpawnPoints" type="Node3D" parent="."]

[node name="Spawn1" type="Marker3D" parent="SpawnPoints"]
position = Vector3(20, 1, 0)

[node name="Spawn2" type="Marker3D" parent="SpawnPoints"]
position = Vector3(48, 1, 0)

[node name="Spawn3" type="Marker3D" parent="SpawnPoints"]
position = Vector3(-48, 1, 0)

[node name="Spawn4" type="Marker3D" parent="SpawnPoints"]
position = Vector3(0, 1, 48)

[node name="Spawn5" type="Marker3D" parent="SpawnPoints"]
position = Vector3(0, 1, -48)

[node name="Spawn6" type="Marker3D" parent="SpawnPoints"]
position = Vector3(45, 1, 45)

[node name="HUD" type="CanvasLayer" parent="."]

[node name="LowHealthOverlay" type="ColorRect" parent="HUD"]
material = SubResource(6)
mouse_filter = 2
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 0.0
offset_top = 0.0
offset_right = 0.0
offset_bottom = 0.0

[node name="DamageRing" type="ColorRect" parent="HUD"]
visible = false
material = SubResource(7)
mouse_filter = 2
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -90.0
offset_top = -90.0
offset_right = 90.0
offset_bottom = 90.0

[node name="DamageArrowPivot" type="Control" parent="HUD"]
mouse_filter = 2
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = 0.0
offset_top = 0.0
offset_right = 0.0
offset_bottom = 0.0

[node name="DamageArrow" type="ColorRect" parent="HUD/DamageArrowPivot"]
visible = false
material = SubResource(8)
mouse_filter = 2
offset_left = -8.0
offset_top = -70.0
offset_right = 8.0
offset_bottom = -50.0

[node name="Minimap" type="Control" parent="HUD"]
script = ExtResource(9)
mouse_filter = 2
anchor_left = 1.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 0.0
offset_left = -210.0
offset_top = 20.0
offset_right = -20.0
offset_bottom = 210.0

[node name="InfoLabel" type="Label" parent="HUD"]
position = Vector2(10, 10)
text = ""

[node name="HealthLabel" type="Label" parent="HUD"]
anchor_left = 1.0
anchor_top = 1.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = -200
offset_top = -60
offset_right = -20
offset_bottom = -20
text = "HP: 100"
horizontal_alignment = 2
vertical_alignment = 2
theme_override_font_sizes/font_size = 28

[node name="KillFeed" type="Label" parent="HUD"]
position = Vector2(10, 50)
text = ""

[node name="CrosshairH" type="ColorRect" parent="HUD"]
color = Color(1, 1, 1, 1)
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -8
offset_top = -1
offset_right = 8
offset_bottom = 1

[node name="CrosshairV" type="ColorRect" parent="HUD"]
color = Color(1, 1, 1, 1)
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -1
offset_top = -8
offset_right = 1
offset_bottom = 8

[node name="HitMarker" type="Label" parent="HUD"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -6
offset_top = -10
offset_right = 6
offset_bottom = 10
text = "X"
horizontal_alignment = 1
vertical_alignment = 1
theme_override_colors/font_color = Color(1, 0.2, 0.2, 1)

[node name="PauseMenu" type="Control" parent="HUD"]
visible = false
mouse_filter = 2
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 0.0
offset_top = 0.0
offset_right = 0.0
offset_bottom = 0.0

[node name="Panel" type="Panel" parent="HUD/PauseMenu"]
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -360.0
offset_top = -250.0
offset_right = 360.0
offset_bottom = 250.0

[node name="MenuHBox" type="HBoxContainer" parent="HUD/PauseMenu/Panel"]
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 16.0
offset_top = 16.0
offset_right = -16.0
offset_bottom = -16.0
theme_override_constants/separation = 24

[node name="LeftVBox" type="VBoxContainer" parent="HUD/PauseMenu/Panel/MenuHBox"]
size_flags_horizontal = 3
theme_override_constants/separation = 10

[node name="MenuTitle" type="Label" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox"]
text = "Menu"
horizontal_alignment = 1
theme_override_font_sizes/font_size = 28

[node name="NameRow" type="HBoxContainer" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox"]

[node name="NameLabel" type="Label" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox/NameRow"]
text = "Name"
custom_minimum_size = Vector2(90, 0)

[node name="NameEdit" type="LineEdit" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox/NameRow"]
size_flags_horizontal = 3

[node name="SensitivityRow" type="HBoxContainer" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox"]

[node name="SensitivityLabel" type="Label" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox/SensitivityRow"]
text = "Sensitivity"
custom_minimum_size = Vector2(90, 0)

[node name="SensitivitySlider" type="HSlider" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox/SensitivityRow"]
min_value = 0.0
max_value = 100.0
step = 1.0
size_flags_horizontal = 3

[node name="SensitivityValue" type="Label" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox/SensitivityRow"]
text = "50"
custom_minimum_size = Vector2(60, 0)
horizontal_alignment = 2

[node name="CharacterRow" type="HBoxContainer" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox"]

[node name="CharacterLabel" type="Label" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox/CharacterRow"]
text = "Character"
custom_minimum_size = Vector2(90, 0)

[node name="CharacterSkinOption" type="OptionButton" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox/CharacterRow"]
size_flags_horizontal = 3

[node name="ButtonsRow" type="HBoxContainer" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox"]
alignment = 1

[node name="CloseButton" type="Button" parent="HUD/PauseMenu/Panel/MenuHBox/LeftVBox/ButtonsRow"]
text = "Close"

[node name="RightVBox" type="VBoxContainer" parent="HUD/PauseMenu/Panel/MenuHBox"]
size_flags_horizontal = 3
size_flags_vertical = 3
theme_override_constants/separation = 10

[node name="PreviewLabel" type="Label" parent="HUD/PauseMenu/Panel/MenuHBox/RightVBox"]
text = "Preview"

[node name="PreviewViewportContainer" type="SubViewportContainer" parent="HUD/PauseMenu/Panel/MenuHBox/RightVBox"]
custom_minimum_size = Vector2(0, 320)
stretch = true

[node name="PreviewViewport" type="SubViewport" parent="HUD/PauseMenu/Panel/MenuHBox/RightVBox/PreviewViewportContainer"]
transparent_bg = true
render_target_update_mode = 3
own_world_3d = true
size = Vector2i(320, 320)

[node name="PreviewRoot" type="Node3D" parent="HUD/PauseMenu/Panel/MenuHBox/RightVBox/PreviewViewportContainer/PreviewViewport"]

[node name="PreviewLight" type="DirectionalLight3D" parent="HUD/PauseMenu/Panel/MenuHBox/RightVBox/PreviewViewportContainer/PreviewViewport/PreviewRoot"]
rotation = Vector3(-0.9, -0.6, 0.0)

[node name="PreviewPivot" type="Node3D" parent="HUD/PauseMenu/Panel/MenuHBox/RightVBox/PreviewViewportContainer/PreviewViewport/PreviewRoot"]

[node name="PreviewCamera" type="Camera3D" parent="HUD/PauseMenu/Panel/MenuHBox/RightVBox/PreviewViewportContainer/PreviewViewport/PreviewRoot"]
position = Vector3(0, 1.4, 3.6)
fov = 35.0
current = true

[node name="DeathOverlay" type="ColorRect" parent="HUD"]
visible = false
color = Color(0, 0, 0, 1)
mouse_filter = 2
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 0.0
offset_top = 0.0
offset_right = 0.0
offset_bottom = 0.0

[node name="DeathTitle" type="Label" parent="HUD"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -200.0
offset_top = -70.0
offset_right = 200.0
offset_bottom = -10.0
text = "YOU DIED"
horizontal_alignment = 1
vertical_alignment = 1
theme_override_font_sizes/font_size = 48

[node name="DeathSubtitle" type="Label" parent="HUD"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -300.0
offset_top = -10.0
offset_right = 300.0
offset_bottom = 30.0
text = ""
horizontal_alignment = 1
vertical_alignment = 1
theme_override_font_sizes/font_size = 20

[node name="Scoreboard" type="Panel" parent="HUD"]
visible = false
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -250.0
offset_top = -180.0
offset_right = 250.0
offset_bottom = 180.0

[node name="ScoreboardLabel" type="Label" parent="HUD/Scoreboard"]
anchor_left = 0.0
anchor_top = 0.0
anchor_right = 1.0
anchor_bottom = 1.0
offset_left = 16.0
offset_top = 16.0
offset_right = -16.0
offset_bottom = -16.0
text = ""
horizontal_alignment = 1
vertical_alignment = 0
